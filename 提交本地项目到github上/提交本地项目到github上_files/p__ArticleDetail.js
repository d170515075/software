(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{"2CDT":function(e,t,a){"use strict";function n(e){var t,a,n,c;e?window.OA_script("https://sponsor.segmentfault.com/spcjs.php?id=1&block=1&repu=72&v=5f0a9217&tag="+escape(e)):(null===(t=window.location)||void 0===t||null===(a=t.pathname)||void 0===a?void 0:a.includes("/a/"))||(null===(n=window.location)||void 0===n||null===(c=n.pathname)||void 0===c?void 0:c.includes("/q/"))||window.OA_script("https://sponsor.segmentfault.com/spcjs.php?id=1&block=1&repu=72&v=5f0a9217")}t["a"]=n},"4GjR":function(e,t,a){"use strict";var n=a("o0o1"),c=a.n(n),r=a("VTBJ"),l=a("HaE+"),o=a("ODXe"),i=a("q1tI"),s=a.n(i),m=a("YdHu"),d=a("97+O"),u=a("tSvB"),v=a("Dp36"),f=a("9kvl"),b=function(e){var t=e.id,a=e.type,n=e.actions,f=void 0===n?[]:n,b=e.member_actions,p=void 0===b?[]:b,E=e.onCallBack,g=e.sessionUser,h=e.className,j=e.qid,O=Object(i["useState"])({visable:!1,action:"",actionName:""}),y=Object(o["a"])(O,2),k=y[0],N=y[1],w=Object(i["useState"])(!1),x=Object(o["a"])(w,2),S=x[0],C=x[1],_=Object(i["useState"])(!1),I=Object(o["a"])(_,2),D=I[0],R=I[1],B=Object(i["useState"])(!1),U=Object(o["a"])(B,2),F=U[0],A=U[1],q=function(e){Object(v["ib"])({id:t,type:a,handle:e}).then((function(e){E(e)}))},T=function(){var e=Object(l["a"])(c.a.mark((function e(n){var l,o;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("report"!==k.action){e.next=6;break}return e.next=3,Object(v["ub"])(Object(r["a"])({object_id:t},n))["catch"]((function(e){l=null===e||void 0===e?void 0:e.object_id}));case 3:return o=e.sent,E(o||l,k.action),e.abrupt("return");case 6:if("seo"!==k.action&&"hide-setting"!==k.action){e.next=9;break}return E("",k.action),e.abrupt("return");case 9:if("delete"!==k.action){e.next=12;break}return Object(v["jb"])(Object(r["a"])({id:t,type:a},n)).then((function(e){E(e,k.action)})),e.abrupt("return");case 12:Object(v["ib"])(Object(r["a"])({id:t,type:a,handle:k.action},n)).then((function(e){E(e,k.action)}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:h},f.length>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"d-inline-block"},s.a.createElement(d["a"],null,s.a.createElement(d["a"].Toggle,{as:m["a"],className:"text-secondary"},s.a.createElement("span",null,"\u7ba1\u7406")),s.a.createElement(d["a"].Menu,null,f.map((function(e,n){if("edit"===e.type){var c;switch(a){case"article":c="/a/".concat(t,"/edit");break;case"question":c="/q/".concat(t,"/edit");break;case"answer":c="/q/".concat(j,"/a-").concat(t,"/edit");break}return s.a.createElement(d["a"].Item,{key:e.name+n,href:c},e.name)}return"reason"===e.type?s.a.createElement(d["a"].Item,{key:e.name+n,onClick:function(){N({action:e.action,visable:!0,actionName:e.name})}},e.name):"put"===e.type?s.a.createElement(d["a"].Item,{key:e.name+n,onClick:function(){return q(e.action)}},e.name):"site"===e.type?s.a.createElement(d["a"].Item,{key:e.name+n,onClick:function(){C(!0),N(Object(r["a"])(Object(r["a"])({},k),{},{action:e.action}))}},e.name):"seo"===e.type?s.a.createElement(d["a"].Item,{key:e.name+n,onClick:function(){R(!0),N(Object(r["a"])(Object(r["a"])({},k),{},{action:e.action}))}},e.name):"hide"===e.type?s.a.createElement(d["a"].Item,{key:e.name+n,onClick:function(){A(!0),N(Object(r["a"])(Object(r["a"])({},k),{},{action:e.action}))}},e.name):s.a.createElement(d["a"].Item,{key:e.name+n},e.name)}))))),s.a.createElement("span",{className:"split-dot"})),p.length>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"d-inline-block"},s.a.createElement(d["a"],null,s.a.createElement(d["a"].Toggle,{as:m["a"],className:"text-secondary"},s.a.createElement("span",null,"\u64cd\u4f5c")),s.a.createElement(d["a"].Menu,null,p.map((function(e,n){if("edit"===e.type){var c;switch(a){case"article":c="/a/".concat(t,"/edit");break;case"question":c="/q/".concat(t,"/edit");break;case"answer":c="/q/".concat(j,"/a-").concat(t,"/edit");break}return s.a.createElement(d["a"].Item,{key:e.name+n,href:c},e.name)}return"reason"===e.type?s.a.createElement(d["a"].Item,{key:e.name+n,onClick:function(){N({action:e.action,visable:!0,actionName:e.name})}},e.name):"put"===e.type?s.a.createElement(d["a"].Item,{key:e.name+n,onClick:function(){return q(e.action)}},e.name):void 0})),"question"===a&&s.a.createElement(d["a"].Item,{href:"/q/".concat(t,"/revision")},"\u5386\u53f2\u7248\u672c")))),s.a.createElement("span",{className:"split-dot"})),g&&s.a.createElement("a",{className:"text-secondary sf_do",href:"#",onClick:function(e){e.preventDefault(),N({action:"report",visable:!0,actionName:"\u4e3e\u62a5"})}},s.a.createElement("span",null,"\u4e3e\u62a5")),k.visable&&s.a.createElement(u["e"],{id:t,isShow:!0,action:k.action,actionName:k.actionName,setModalStatus:N,onOk:T}),S&&s.a.createElement(u["d"],{isShow:!0,setModalStatus:C,callback:T}),s.a.createElement(u["k"],{id:t,isShow:D,setModalStatus:R,callBack:T}),s.a.createElement(u["f"],{id:t,isShow:F,setModalStatus:A,callBack:T}))};t["a"]=Object(f["b"])((function(e){var t=e.global;return{sessionUser:t.sessionUser}}))(s.a.memo(b))},"5SRE":function(e,t,a){},"6T2I":function(e,t,a){"use strict";var n=a("q1tI"),c=a.n(n),r=a("XWsC"),l=function(e){var t=e.data,a=e.className,n=void 0===a?"":a;return c.a.createElement(r["a"],{className:"font-size-14 px-0 my-0 ".concat(n),bsPrefix:"breadcrumb bg-transparent"},c.a.createElement(r["a"].Item,{href:"/"},"\u9996\u9875"),t.map((function(e,a){return e.url?c.a.createElement(r["a"].Item,{href:e.url,key:e.url,active:t.length===a+1},e.name):null})))};t["a"]=c.a.memo(l)},"78gL":function(e,t,a){},"9F+u":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n,c,r=a("EVdn");function l(e){function t(){r("body").find(".ad-container").each((function(e,t){var a,n;r(t).hasClass(".ad-close")&&!(null===(a=r(t))||void 0===a||null===(n=a.children())||void 0===n?void 0:n.length)||r(t).show()})),e&&r(".ad-close").parent().each((function(t,a){var n=r(a).attr("id"),c="".concat(e,"-").concat(n),l=parseInt(localStorage.getItem(c)||"0")||0;"OA_holder_5"===n&&(l=Math.max(parseInt(localStorage.getItem("article-OA_holder_5")||"0"),parseInt(localStorage.getItem("question-OA_holder_5")||"0"),parseInt(localStorage.getItem("global-OA_holder_5")||"0"))),l<Date.now()?r("#"+n).css("display","block"):r("#"+n).remove()})),r(".ad-close").css({position:"relative"}).append(r('<div class="sflex-center ad-close-div"></div>').css({width:"16px",height:"16px",position:"absolute",right:"8px",top:"8px","background-color":"rgba(0,0,0,.75)",cursor:"pointer","pointer-events":"none","border-radius":"50%"}).append(r('<span class="ad-close-span"></span>').css({width:"8px",height:"8px",display:"block","background-image":"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath fill='%23FFF' fill-rule='evenodd' d='M6.6667 0L8 1.3333 5.333 4 8 6.6667 6.6667 8 4 5.333 1.3333 8 0 6.6667 2.666 4 0 1.3333 1.3333 0 4 2.667 6.6667 0z'/%3E%3C/svg%3E\")","background-repeat":"no-repeat","background-position":"center","pointer-events":"auto"}))),r(".ad-close-span").on("click",(function(){var t=r(this).parents(".ad-close").parent(),a=t.attr("id");t.parent().remove(),localStorage.setItem("".concat(e,"-").concat(a),(Date.now()+864e5).toString())}))}n&&clearInterval(n),n=setInterval((function(){r(".ad-close").length>0&&(clearInterval(n),t())}),300),c&&clearInterval(c),c=setInterval((function(){r("div[id^='OA_holder_']").length>0&&(clearInterval(c),r("div[id^='OA_holder_']").each((function(e,t){var a=r(t).children("div[id^='beacon_']").length;a>0&&r(t).parent().show()})))}),500)}},"9cdK":function(e,t,a){},PFmq:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("o0o1"),c=a.n(n),r=a("uFwe"),l=a("VTBJ"),o=a("HaE+"),i=a("LvDl"),s=a("9kvl"),m=a("6Yt9");function d(e,t){return e instanceof Function?(t=e,e={}):e||(e={}),function(){var a=Object(o["a"])(c.a.mark((function a(n){var o,d,u,v,f,b,p,E,g,h,j,O,y,k;return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n.initResult||(n.initResult={}),v=Object(s["c"])(),f=v._store,b=n.isServer?null===(o=n.serverData)||void 0===o?void 0:o.Token:Object(m["b"])(),n.isServer&&!Object(i["isEmpty"])(n.serverData)&&f.dispatch({type:"global/saveServerData",payload:n.serverData}),f.dispatch({type:"global/saveSessionInfo",payload:Object(l["a"])(Object(l["a"])({},(null===(d=f.getState().global)||void 0===d?void 0:d.sessionInfo)||{}),{},{key:b})}),!n.isServer){a.next=8;break}return a.next=8,f.dispatch({type:"global/getSessionInfo",payload:{Token:b}});case 8:if(p=f.getState(),E=(null===(u=p.global)||void 0===u?void 0:u.sessionInfo)||{},!n.isServer||!E.login){a.next=13;break}return a.next=13,f.dispatch({type:"global/getUser"});case 13:if(g={},"object"===typeof e&&(g=e),g.requireLogin&&!E.login?(n.initResult.action="redirect",n.initResult.param="/user/login"):g.requireNotLogin&&E.login&&(n.initResult.action="redirect",n.initResult.param="/"),f.dispatch({type:"global/saveRoute",payload:Object(l["a"])(Object(l["a"])({},n.route),n.initResult)}),!t){a.next=23;break}return a.next=20,t(n);case 20:a.t0=a.sent,a.next=24;break;case 23:a.t0=p;case 24:if(h=a.t0,!g.requireState){a.next=45;break}j=Object(r["a"])(g.requireState),a.prev=27,j.s();case 29:if((O=j.n()).done){a.next=37;break}if(y=O.value,k=Object(i["get"])(h,y),k&&!Object(i["isEmpty"])(k)){a.next=35;break}return n.initResult.action="404",a.abrupt("break",37);case 35:a.next=29;break;case 37:a.next=42;break;case 39:a.prev=39,a.t1=a["catch"](27),j.e(a.t1);case 42:return a.prev=42,j.f(),a.finish(42);case 45:return a.abrupt("return",h);case 46:case"end":return a.stop()}}),a,null,[[27,39,42,45]])})));return function(e){return a.apply(this,arguments)}}()}},PmrS:function(e,t,a){},SoKV:function(e,t,a){},YKRR:function(e,t,a){"use strict";var n=a("ODXe"),c=a("q1tI"),r=a.n(c),l=a("EVdn"),o=(a("rNPM"),function(){var e=function(){l("body,html").animate({scrollTop:0})},t=Object(c["useState"])(0),a=Object(n["a"])(t,2),o=a[0],i=a[1],s=function(){i(window.scrollY)};return Object(c["useEffect"])((function(){return window.addEventListener("scroll",s),function(){window.removeEventListener("scroll",s)}})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"fixedTools",className:"position-fixed d-none ".concat(o>720?"d-xl-flex":""),style:{right:"24px",bottom:"24px"}},r.a.createElement("button",{type:"button",className:"btn btn-light",title:"\u56de\u9876\u90e8",onClick:e},"\u25b2")))});t["a"]=o},YdHu:function(e,t,a){"use strict";var n=a("q1tI"),c=a.n(n),r=function(e,t){var a=e.children,n=e.onClick,r=e.className,l=e.domType,o=void 0===l?"a":l;return"a"===o?c.a.createElement("a",{href:"#",className:r,ref:t,onClick:function(e){e.preventDefault(),n(e)}},a):c.a.createElement("div",{href:"#",className:r,ref:t,onClick:function(e){e.preventDefault(),n(e)}},a)};t["a"]=c.a.forwardRef(r)},cor7:function(e,t,a){"use strict";var n=a("wx14"),c=a("o0o1"),r=a.n(c),l=a("HaE+"),o=a("KQm4"),i=a("VTBJ"),s=a("ODXe"),m=a("q1tI"),d=a.n(m),u=a("6xyR"),v=a("sjrs"),f=a("NAXS"),b=a("GemG"),p=a.n(b),E=a("LvDl"),g=a("Dp36"),h=a("9kvl"),j=a("tSvB"),O=a("QojX"),y=a("HRRZ"),k=(a("gZRy"),function(e){var t=e.isChild,a=void 0!==t&&t,n=e.item,c=e.parentItem,r=e.onChangeOfComment,l=e.onComment;return Object(m["useEffect"])((function(){p()(document.querySelector(".comment-text"))}),[]),d.a.createElement(O["a"],{className:"edit-form ".concat(a?"edit-reply-form":"")},d.a.createElement(y["a"],null,d.a.createElement(O["a"].Control,{as:"textarea",className:"comment-text ".concat(a?"form-control-sm":""),rows:1,value:n.original_text,onChange:function(e){c?r(Object(i["a"])(Object(i["a"])({},n),{},{original_text:e.target.value}),c):r(Object(i["a"])(Object(i["a"])({},n),{},{original_text:e.target.value}))},placeholder:"\u64b0\u5199\u8bc4\u8bba ...",isInvalid:n.isInvalid}),d.a.createElement(O["a"].Control.Feedback,{type:"invalid"},n.errorMsg)),d.a.createElement("div",{className:"my-3 d-flex align-content-center justify-content-end"},d.a.createElement("button",{type:"button",className:"btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit",onClick:function(){c?r(Object(i["a"])(Object(i["a"])({},n),{},{isEdit:!1}),c):r(Object(i["a"])(Object(i["a"])({},n),{},{isEdit:!1}))}},"\u53d6\u6d88"),d.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm",onClick:function(){return l(n,c)},disabled:!n.original_text},"\u63d0\u4ea4")))}),N=d.a.memo(k),w=a("TUci"),x=a("wwbV"),S=a("IP2g"),C=a("uB96"),_=a("bdvc"),I=function(e){var t=e.item,a=e.parentItem,n=e.onChangeOfComment,c=e.onComment,r=e.className,l=e.id,o=Object(m["useState"])(!1),u=Object(s["a"])(o,2),v=u[0],f=u[1],b=Object(m["useState"])(null),E=Object(s["a"])(b,2),g=E[0],h=E[1];return Object(m["useEffect"])((function(){p()(document.querySelector(".comment-text"))}),[]),Object(m["useEffect"])((function(){g&&Object(_["b"])({id:l,element:g})}),[g]),d.a.createElement(O["a"],{className:"card-body add-comment-form ".concat(r)},d.a.createElement(y["a"],null,d.a.createElement(O["a"].Control,{as:"textarea",value:t.commentVal,autoFocus:!0,ref:function(e){if(e&&t.commentVal){var a=t.commentVal.length;h(e),e.setSelectionRange(a,a)}},onChange:function(e){a?n(Object(i["a"])(Object(i["a"])({},t),{},{commentVal:e.target.value}),a):n(Object(i["a"])(Object(i["a"])({},t),{},{commentVal:e.target.value}))},className:"form-control form-control-sm comment-text comment-reply",placeholder:"\u64b0\u5199\u8bc4\u8bba \u2026"})),d.a.createElement("div",{className:"d-flex justify-content-end align-items-center"},d.a.createElement("a",{href:"#",className:"mr-3",onClick:function(e){e.preventDefault(),f(!v)}},d.a.createElement(S["a"],{className:"text-secondary",icon:C["i"]})),d.a.createElement(x["a"],{size:"sm",className:"float-right",onClick:function(){return c(t,a)},disabled:!t.commentVal},"\u63d0\u4ea4\u8bc4\u8bba")),d.a.createElement(w["a"],{show:v,variant:"info",className:"mt-3 my-0 font-size-14"},"\u8bc4\u8bba\u652f\u6301\u90e8\u5206 Markdown \u8bed\u6cd5\uff1a",d.a.createElement("code",null,"**\u7c97\u4f53** _\u659c\u4f53_ [\u94fe\u63a5](http://example.com) `\u4ee3\u7801` - \u5217\u8868 > \u5f15\u7528"),"\u3002\u4f60\u8fd8\u53ef\u4ee5\u4f7f\u7528 ",d.a.createElement("code",null,"@ "),"\u6765\u901a\u77e5\u5176\u4ed6\u7528\u6237\u3002"))},D=d.a.memo(I),R=a("6Yt9"),B=(a("9cdK"),function(e){var t=e.commentContent,a=e.isShowComment,n=e.inputRef,c=e.setCommentContent,r=e.onComment,l=e.sessionUser,o=e.id,i=Object(m["useState"])(!1),v=Object(s["a"])(i,2),f=v[0],b=v[1];return Object(m["useEffect"])((function(){n&&n.current&&Object(_["b"])({id:o,element:n.current})}),[n]),d.a.createElement(u["a"],{className:"bg-light border-0 mt-3 ".concat(a?"":"hidden")},d.a.createElement(u["a"].Body,null,d.a.createElement("div",{className:"media-body"},d.a.createElement(y["a"],null,d.a.createElement(O["a"].Control,{as:"textarea",rows:1,ref:n,value:t,size:"sm",onChange:function(e){c(e.target.value)},className:"comment-text",placeholder:"\u64b0\u5199\u8bc4\u8bba \u2026",onFocus:function(e){console.log("focus"),l||(e.preventDefault(),Object(R["c"])(),n.current.blur())}})),d.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},d.a.createElement("small",{className:"text-secondary"},"\u5982\u679c\u5bf9\u4f60\u6709\u5e2e\u52a9\uff0c\u8bb0\u5f97\u70b9\u8d5e\u652f\u6301"),d.a.createElement("div",{className:"sflex-center"},d.a.createElement("a",{href:"#",className:"mr-3",onClick:function(e){e.preventDefault(),b(!f)}},d.a.createElement(S["a"],{className:"text-secondary",icon:C["i"]})),d.a.createElement(x["a"],{size:"sm",className:"float-right",onClick:function(){return r("comment")},disabled:!t},"\u63d0\u4ea4\u8bc4\u8bba")))),d.a.createElement(w["a"],{show:f,variant:"info",className:"mt-3 my-0 font-size-14"},"\u8bc4\u8bba\u652f\u6301\u90e8\u5206 Markdown \u8bed\u6cd5\uff1a",d.a.createElement("code",null,"**\u7c97\u4f53** _\u659c\u4f53_ [\u94fe\u63a5](http://example.com) `\u4ee3\u7801` - \u5217\u8868 > \u5f15\u7528"),"\u3002\u4f60\u8fd8\u53ef\u4ee5\u4f7f\u7528 ",d.a.createElement("code",null,"@ "),"\u6765\u901a\u77e5\u5176\u4ed6\u7528\u6237\u3002")))}),U=Object(h["b"])((function(e){var t=e.global;return{sessionUser:t.sessionUser}}))(d.a.memo(B)),F=function(e){var t=e.allTotal,a=e.sort,n=e.setSort;return d.a.createElement("div",{className:"d-flex justify-content-between mb-2 px-4 px-md-0"},d.a.createElement("div",{id:"comment-total",className:"h5 mb-0"},t," \u6761\u8bc4\u8bba"),d.a.createElement("div",null,d.a.createElement("a",{href:"#",className:"sort ".concat("votes"===a?"text-dark":"text-secondary"),onClick:function(e){e.preventDefault(),n("votes")}},"\u5f97\u7968"),d.a.createElement("span",{className:"split-dot text-secondary"}),d.a.createElement("a",{href:"#",className:"sort ".concat("newest"===a?"text-dark":"text-secondary"),onClick:function(e){e.preventDefault(),n("newest")}},"\u65f6\u95f4")))},A=d.a.memo(F),q=a("kpTP"),T=function(e){var t,a=e.commentContent,n=e.inputRef,c=e.setCommentContent,r=e.onComment,l=e.sessionUser,o=e.id,i=Object(m["useState"])(!1),u=Object(s["a"])(i,2),v=u[0],f=u[1];return Object(m["useEffect"])((function(){Object(_["b"])({id:o,element:document.getElementById("comment")})}),[]),d.a.createElement(q["a"],{className:"mb-4"},d.a.createElement("img",{src:(null===l||void 0===l||null===(t=l.user)||void 0===t?void 0:t.avatar_url)||"https://image-static.segmentfault.com/317/931/3179314346-5f61e47221e07",className:"rounded-circle mr-3",width:"38","aria-hidden":"true"}),d.a.createElement(q["a"].Body,null,d.a.createElement(y["a"],null,d.a.createElement(O["a"].Control,{as:"textarea",rows:1,ref:n,value:a,onChange:function(e){c(e.target.value)},className:"comment-text",placeholder:"\u64b0\u5199\u8bc4\u8bba \u2026",onFocus:function(e){console.log("focus"),l||(e.preventDefault(),Object(R["c"])(),n.current.blur())}})),d.a.createElement("div",{className:"d-flex justify-content-end align-items-center"},d.a.createElement("a",{href:"#",className:"mr-3",onClick:function(e){e.preventDefault(),f(!v)}},d.a.createElement(S["a"],{className:"text-secondary",icon:C["i"]})),d.a.createElement(x["a"],{className:"float-right",onClick:function(){return r("comment")},disabled:!a},"\u63d0\u4ea4\u8bc4\u8bba")),d.a.createElement(w["a"],{show:v,variant:"info",className:"mt-3 my-0 font-size-14"},"\u8bc4\u8bba\u652f\u6301\u90e8\u5206 Markdown \u8bed\u6cd5\uff1a",d.a.createElement("code",null,"**\u7c97\u4f53** _\u659c\u4f53_ [\u94fe\u63a5](http://example.com) `\u4ee3\u7801` - \u5217\u8868 > \u5f15\u7528"),"\u3002\u4f60\u8fd8\u53ef\u4ee5\u4f7f\u7528 ",d.a.createElement("code",null,"@ "),"\u6765\u901a\u77e5\u5176\u4ed6\u7528\u6237\u3002")))},L=Object(h["b"])((function(e){var t=e.global;return{sessionUser:t.sessionUser}}))(d.a.memo(T)),P=a("zhAr"),M=15,z=function(e){var t=e.total,a=e.page,n=e.setPage,c=function(){var e=document.getElementById("comment-area"),t=-65,a=e.getBoundingClientRect().top+window.pageYOffset+t;window.scrollTo({top:a})},r=function(e){n(e),c()};return d.a.createElement("div",{className:"d-flex justify-content-center mt-4 mb-1"},d.a.createElement(P["a"],{size:"sm",className:"mb-0"},d.a.createElement(P["a"].Item,{disabled:1===a,onClick:function(){return r(a-1)}},"\u4e0a\u4e00\u9875"),Object(o["a"])(Array(Math.ceil(t/M))).map((function(){return 0})).map((function(e,t){return d.a.createElement(P["a"].Item,{key:"page".concat(t),active:a===t+1,onClick:function(){return r(t+1)}},t+1)})),d.a.createElement(P["a"].Item,{disabled:a===Object(o["a"])(Array(Math.ceil(t/M))).map((function(){return 0})).length,onClick:function(){return r(a+1)}},"\u4e0b\u4e00\u9875")))},V=Object(h["b"])((function(e){var t=e.global;return{sessionUser:t.sessionUser}}))(d.a.memo(z)),H=a("4Bjl"),K=function(e){var t=e.sessionUser,a=e.item,n=e.onEditComment,c=e.onEdit,r=e.onRemove,l=e.onReport,o=Object(m["useState"])(a.is_liked),i=Object(s["a"])(o,2),u=i[0],v=i[1],f=Object(m["useState"])(a.votes),b=Object(s["a"])(f,2),p=b[0],E=b[1],h=(null===t||void 0===t?void 0:t.roles)||{},j=h.is_editor,O=function(e,t){t.preventDefault(),Object(R["c"])()&&Object(g["q"])({id:e.id,is_like:e.is_liked?0:1}).then((function(){E(u?p-1:p+1),v(!u)}))};return d.a.createElement("div",{className:"handle-bar font-size-14 d-flex justify-content-between"},d.a.createElement("div",null,d.a.createElement("a",{className:"text-secondary",href:"#",onClick:function(e){return O(a,e)}},d.a.createElement("span",{className:"mainLike-comment ".concat(u?"text-primary":"")},d.a.createElement(S["a"],{className:"fa-w-16",style:{width:"1em"},icon:u?H["g"]:C["p"]})),p>0&&d.a.createElement("span",{className:"mainLike-commentNum ml-1"},p)),d.a.createElement("span",{className:"split-dot"}),d.a.createElement("a",{className:"text-secondary btn-comment",href:"#",onClick:function(e){n(a,"",e)}},"\u56de\u590d"),d.a.createElement("span",{className:"split-dot"}),d.a.createElement("span",{className:"text-secondary"},Object(_["c"])(a.created))),d.a.createElement("div",{className:"control-area d-none"},t&&(j||Number(a.user.id)==t.user.id)&&d.a.createElement(d.a.Fragment,null,d.a.createElement("a",{className:"text-secondary edit",href:"#",onClick:function(e){e.preventDefault(),c(a)}},"\u7f16\u8f91"),d.a.createElement("span",{className:"split-dot"}),d.a.createElement("a",{className:"text-secondary delete",href:"#",onClick:function(e){return r(a.id,e)}},"\u5220\u9664"),d.a.createElement("span",{className:"split-dot"})),t&&d.a.createElement("a",{className:"text-secondary comment-report",href:"#",onClick:function(e){return l(a,e)}},"\u4e3e\u62a5")))},Y=Object(h["b"])((function(e){var t=e.global;return{sessionUser:t.sessionUser}}))(d.a.memo(K)),J=function(e){var t=e.sessionUser,a=e.item,n=e.subItem,c=e.onEditComment,r=e.onEdit,l=e.onRemove,o=e.onReport,i=(null===t||void 0===t?void 0:t.roles)||{},u=i.is_editor,v=Object(m["useState"])(n.is_liked),f=Object(s["a"])(v,2),b=f[0],p=f[1],E=Object(m["useState"])(n.votes),h=Object(s["a"])(E,2),j=h[0],O=h[1],y=function(e,t){t.preventDefault(),Object(R["c"])()&&Object(g["q"])({id:e.id,is_like:e.is_liked?0:1}).then((function(){O(b?j-1:j+1),p(!b)}))};return d.a.createElement("div",{className:"handle-bar font-size-14 d-flex justify-content-between"},d.a.createElement("div",null,d.a.createElement("a",{className:"text-secondary",href:"#",onClick:function(e){return y(n,e)}},d.a.createElement("span",{className:"mainLike-comment ".concat(b?"text-primary":"")},d.a.createElement(S["a"],{className:"fa-w-16",style:{width:"1em"},icon:b?H["g"]:C["p"]})),j>0&&d.a.createElement("span",{className:"mainLike-commentNum  ml-1"},j)),d.a.createElement("span",{className:"split-dot"}),d.a.createElement("a",{className:"text-secondary btn-reply",href:"#",onClick:function(e){c(n,a,e)}},"\u56de\u590d"),d.a.createElement("span",{className:"split-dot"}),d.a.createElement("span",{className:"text-secondary"},Object(_["c"])(n.created))),d.a.createElement("div",{className:"comment-control-area d-none"},t&&(u||Number(n.user.id)==t.user.id)&&d.a.createElement(d.a.Fragment,null,d.a.createElement("a",{className:"text-secondary edit",href:"#",onClick:function(e){e.preventDefault(),r(n,a)}},"\u7f16\u8f91"),d.a.createElement("span",{className:"split-dot"}),d.a.createElement("a",{className:"text-secondary delete",href:"#",onClick:function(e){return l(n.id,e)}},"\u5220\u9664"),d.a.createElement("span",{className:"split-dot"})),t&&d.a.createElement("a",{className:"text-secondary reply-report",href:"#",onClick:function(e){return o(n,e)}},"\u4e3e\u62a5")))},X=Object(h["b"])((function(e){var t=e.global;return{sessionUser:t.sessionUser}}))(d.a.memo(J)),W=(a("zliv"),15),Q=function(e){var t=e.id,a=e.sessionUser,c=void 0===a?{}:a,b=e.mode,h=void 0===b?"article":b,O=e.isShowComment,y=void 0!==O&&O,k=e.setCommentState,w=e.event_object,x=e.user,S=Object(m["useRef"])(null),C=Object(m["useState"])(""),I=Object(s["a"])(C,2),B=I[0],F=I[1];S.current&&(S.current.value=B);var q=Object(m["useState"])([]),T=Object(s["a"])(q,2),P=T[0],M=T[1],z=Object(m["useState"])({isShow:!1,id:""}),H=Object(s["a"])(z,2),K=H[0],J=H[1],Q=Object(m["useState"])(1),G=Object(s["a"])(Q,2),Z=G[0],$=G[1],ee=Object(m["useState"])(0),te=Object(s["a"])(ee,2),ae=te[0],ne=te[1],ce=Object(m["useState"])(0),re=Object(s["a"])(ce,2),le=re[0],oe=re[1],ie=Object(m["useState"])("votes"),se=Object(s["a"])(ie,2),me=se[0],de=se[1],ue=Object(m["useState"])("article"===h),ve=Object(s["a"])(ue,2),fe=ve[0],be=ve[1],pe=Object(m["useRef"])(null);Object(m["useEffect"])((function(){p()(document.querySelector(".comment-text"))}),[]),Object(m["useEffect"])((function(){c&&ge()}),[c]),Object(m["useEffect"])((function(){he()}),[Z,me]),Object(m["useEffect"])((function(){fe&&(P.map((function(e){return e.hidden=!1,e})),M(Object(E["orderBy"])(P,["created"])))}),[fe]);var Ee=function(e,a){return new Promise((function(n,c){if(Object(R["c"])()){var r={};a?r={reply_comment_id:a.id,reply_user_id:a.user.id}:(null===e||void 0===e?void 0:e.isReply)&&(r={reply_comment_id:e.reply_comment_id||e.id,reply_user_id:e.reply_user_id||e.user.id}),e.id&&!e.isReply&&e.isEdit?Object(g["Hb"])(Object(i["a"])(Object(i["a"])({id:e.id,object_id:t},r),{},{text:null===e||void 0===e?void 0:e.original_text})).then((function(){he(),"function"===typeof k&&k(!1)}))["finally"]((function(){n(!0)})):Object(g["p"])(Object(i["a"])(Object(i["a"])({object_id:t},r),{},{text:(null===e||void 0===e?void 0:e.commentVal)||B})).then((function(){"string"===typeof e&&F(""),he(),"function"===typeof k&&k(!1)}))["finally"]((function(){n(!0)}))}else c(!1)}))},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(g["V"])({objectId:t,name:e||""}).then((function(e){if(e instanceof Array&&e[0]instanceof Object){var t=e.map((function(e){return e.display=e.name,e}));return t}}))},he=function(e){Object(g["E"])({objectId:t,commentId:e,page:Z,sort:me,is_direct:"article"===h?0:1}).then((function(t){if(t)if(e){var a=P.map((function(a){return a.id===e&&(a.replies=t.comments),a}));M(a||[])}else{if(1===Z&&(ne(t.total),oe(t.all_total)),fe||(t.comments=Object(E["orderBy"])(t.comments,["votes"],["desc"]).map((function(e,t){return e.hidden=t>2,e}))),!Object(E["isEmpty"])(w)&&h===w.root.type&&"comment"===w.current.type){var n,c=Object(E["findIndex"])(t.comments,["id",Number((null===w||void 0===w||null===(n=w.current)||void 0===n?void 0:n.object_id)||0)]);c>2&&(t.comments.splice(c,1),t.comments=[w.current.comment].concat(Object(o["a"])(t.comments)))}M(t.comments||[])}}))},je=function(e,t,a){var n;a.preventDefault(),n=t?P.map((function(a){return a.id===t.id&&(a.replies=a.replies.map((function(t){return t.id===e.id&&(t.isReply=!t.isReply),t.commentVal="@".concat(t.user.name,"[").concat(t.user.slug,"] "),t}))),a})):P.map((function(t){return t.id===e.id&&(t.isReply=!t.isReply),"article"!==h&&(t.commentVal="@".concat(t.user.name,"[").concat(t.user.slug,"] ")),t})),M(n)},Oe=function(e,t){var a;a="object"===typeof t?P.map((function(a){return a.id===(null===t||void 0===t?void 0:t.id)&&(a.replies=a.replies.map((function(t){return t.id===e.id&&(t=e),t}))),a})):P.map((function(t){return t.id===e.id&&(t=e),t})),M(a)},ye=function(e,t){t.preventDefault(),J({id:e.id,isShow:!0})},ke=function(e){J(Object(i["a"])(Object(i["a"])({},K),{},{isShow:e}))},Ne=function(e,t){var a;a=t?P.map((function(a){return a.id===t.id&&(a.replies=a.replies.map((function(t){return t.id===e.id&&(t.isEdit=!t.isEdit),t}))),a})):P.map((function(t){return t.id===e.id&&(t.isEdit=!t.isEdit),t})),M(a)},we=function(e,t){t.preventDefault(),j["l"].confirm({title:"\u5220\u9664\u8bc4\u8bba",content:"\u786e\u5b9a\u8981\u5220\u9664\u8be5\u8bc4\u8bba\u5417",onSuccess:function(){var t=Object(l["a"])(r.a.mark((function t(){return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(g["s"])(e);case 2:he();case 3:case"end":return t.stop()}}),t)})));function a(){return t.apply(this,arguments)}return a}()})};Object(m["useEffect"])((function(){if(pe&&pe.current&&xe()){var e=pe.current;Object(_["h"])(e)}}),[pe]);var xe=Object(m["useCallback"])((function(){return Object(_["f"])(w,t)}),[w,t]);return d.a.createElement("div",{id:"comment-area",ref:pe},"article"===h&&d.a.createElement(A,{allTotal:le,sort:me,setSort:de}),("question"===h||"answer"===h)&&d.a.createElement(U,{commentContent:B,isShowComment:y,inputRef:S,setCommentContent:F,onComment:Ee,id:t}),d.a.createElement(u["a"],{className:"comment-wrap border-0 ".concat("article"===h?"":0===P.length?"hidden":"bg-light border-0 mt-3")},d.a.createElement(u["a"].Body,null,"article"===h&&d.a.createElement(L,{commentContent:B,inputRef:S,setCommentContent:F,onComment:Ee,id:t}),d.a.createElement("div",{className:"comment-body-wrap ".concat(P.filter((function(e){return!e.hidden})).length<1&&"d-none")},P.filter((function(e){return!e.hidden})).map((function(e,a){var n;return d.a.createElement("div",{key:e.id,className:"media mb-r d-flex align-items-start ".concat(P.length!==a+1&&("article"===h?"mb-4":"mb-3"))},"article"===h&&d.a.createElement("img",{className:"d-block rounded-circle mr-3",width:"38",height:"38",src:e.user.avatar_url||"https://image-static.segmentfault.com/317/931/3179314346-5f61e47221e07",alt:""}),d.a.createElement("div",{className:"media-body w-0 ".concat(xe()?"scroll-warning":"")},d.a.createElement("div",{className:"commentUnit ".concat("question"===h||"answer"===h?"font-size-14":"")},d.a.createElement("div",{className:"mb-2"},d.a.createElement("a",{className:"d-uname",href:e.user.url,rel:"noreferrer",target:"_blank"},d.a.createElement("strong",null,e.user.name),"article"===h&&e.user.id===x.id&&d.a.createElement("span",{className:"text-secondary"},"\uff08\u4f5c\u8005\uff09")),"\uff1a",!e.isEdit&&d.a.createElement("div",{className:"parsedText fmt",dangerouslySetInnerHTML:{__html:e.parsed_text}})),e.isEdit&&d.a.createElement(N,{onChangeOfComment:Oe,item:e,onComment:Ee}),d.a.createElement(Y,{item:e,onEditComment:je,onEdit:Ne,onRemove:we,onReport:ye}),e.isReply&&d.a.createElement(u["a"],{className:"bg-light border-0 mt-2"},d.a.createElement(D,{id:t,className:"".concat("question"===h||"answer"==h?"p-0":"p-3"),onChangeOfComment:Oe,item:e,onComment:Ee}))),d.a.createElement("div",{className:"replies ".concat(Object(E["isEmpty"])(e.replies)?"hidden":"")},d.a.createElement("div",{className:"card bg-light border-0 mt-2 py-3"},d.a.createElement("div",{className:"card-body py-0"},d.a.createElement(v["a"],{className:"reply-list"},null===(n=e.replies)||void 0===n?void 0:n.map((function(a,n){return d.a.createElement(f["a"],{key:a.id,className:"p-0 bg-light border-0 commentUnit  ".concat(e.replies.length!==n+1&&"mb-3")},d.a.createElement("div",{className:"font-size-14 mb-2"},d.a.createElement("a",{className:"d-uname",href:a.user.url,target:"_blank",rel:"noreferrer"},d.a.createElement("strong",null,a.user.name),"article"===h&&a.user.id===x.id&&d.a.createElement("span",{className:"text-secondary"},"\uff08\u4f5c\u8005\uff09")),"\uff1a",!a.isEdit&&d.a.createElement("div",{className:"parsedText fmt",dangerouslySetInnerHTML:{__html:a.parsed_text}})),a.isEdit&&d.a.createElement(N,{isChild:!0,onChangeOfComment:Oe,item:a,parentItem:e,onComment:Ee}),d.a.createElement(X,{item:e,subItem:a,onEditComment:je,onEdit:Ne,onRemove:we,onReport:ye}),a.isReply&&d.a.createElement(u["a"],{className:"bg-light border-0 mt-2"},d.a.createElement(D,{id:t,onChangeOfComment:Oe,item:a,onComment:Ee,parentItem:e,className:"p-0"})))}))),e.replies&&e.replies_total>e.replies.length&&d.a.createElement("div",{className:"font-size-14 d-flex mt-3 loader d-none"},d.a.createElement("a",{className:"text-secondary next-page-btn",href:"#",onClick:function(t){t.preventDefault(),he(e.id)}},"\u5c55\u5f00\u663e\u793a\u66f4\u591a")))))))}))),!fe&&ae>3&&d.a.createElement("div",{className:"font-size-14 d-flex loader d-none"},d.a.createElement("a",{className:"text-secondary next-page-btn",href:"#",onClick:function(e){e.preventDefault(),be(!0)}},"\u5c55\u5f00\u663e\u793a\u66f4\u591a")),ae>W&&d.a.createElement(V,{total:ae,page:Z,setPage:$}))),d.a.createElement(j["j"],Object(n["a"])({},K,{setModalStatus:ke})))};t["a"]=Object(h["b"])((function(e){var t=e.global;return{sessionUser:t.sessionUser}}))(d.a.memo(Q))},gZRy:function(e,t,a){},kUPb:function(e,t,a){"use strict";var n=a("ODXe"),c=a("q1tI"),r=a.n(c),l=a("9vsu"),o=a("pJDg"),i=a("cWnB"),s=a("dDCJ"),m=a("97+O"),d=a("IP2g"),u=a("uB96"),v=a("YdHu"),f=a("8tEE"),b=a("4Bjl"),p=a("24g8"),E=a("QeUd"),g=a("aWbt"),h=a("Dp36"),j=a("wFk/"),O=a("6Yt9"),y=a("0FX9"),k=a.n(y),N=a("9kvl"),w=a("tSvB"),x=function(e){var t=e.id,a=e.isLiked,y=void 0!==a&&a,N=e.votes,x=void 0===N?0:N,S=e.bookmarks,C=void 0===S?0:S,_=e.isBookmarked,I=void 0!==_&&_,D=e.title,R=void 0===D?"":D,B=e.banner,U=void 0===B?"":B,F=e.dispatch,A=e.showShare,q=void 0!==A&&A,T=e.source,L=e.showComment,P=void 0===L||L,M=e.isAuthor,z=void 0!==M&&M,V=e.sticky,H=void 0===V||V,K=e.style,Y=void 0===K?{}:K,J=e.likeBtnSize,X=void 0===J?"lg":J,W=e.isHated,Q=void 0!==W&&W,G=e.showHateBtn,Z=void 0!==G&&G,$=e.showBookmarkBtn,ee=void 0===$||$,te=e.showShareBtn,ae=void 0===te||te,ne=e.isNotHandle,ce=void 0===ne?{like:!1,hate:!1}:ne,re=Object(c["useState"])(x),le=Object(n["a"])(re,2),oe=le[0],ie=le[1],se=Object(c["useState"])(Q),me=Object(n["a"])(se,2),de=me[0],ue=me[1],ve=Object(c["useState"])(C),fe=Object(n["a"])(ve,2),be=fe[0],pe=fe[1],Ee=Object(c["useState"])(y),ge=Object(n["a"])(Ee,2),he=ge[0],je=ge[1],Oe=Object(c["useState"])(I),ye=Object(n["a"])(Oe,2),ke=ye[0],Ne=ye[1],we=Object(c["useState"])(!1),xe=Object(n["a"])(we,2),Se=xe[0],Ce=xe[1],_e=Object(c["useState"])(""),Ie=Object(n["a"])(_e,2),De=Ie[0],Re=Ie[1],Be=Object(c["useState"])(""),Ue=Object(n["a"])(Be,2),Fe=Ue[0],Ae=Ue[1],qe=Object(c["useState"])(""),Te=Object(n["a"])(qe,2),Le=Te[0],Pe=Te[1],Me=Object(c["useState"])(""),ze=Object(n["a"])(Me,2),Ve=ze[0],He=ze[1],Ke=Object(c["useState"])(!1),Ye=Object(n["a"])(Ke,2),Je=Ye[0],Xe=Ye[1],We=Object(c["useRef"])(),Qe=Object(c["useRef"])(),Ge=Object(c["useRef"])();Object(c["useEffect"])((function(){je(y),Ne(I),ie(x),pe(C),ue(Q)}),[y,I,x,C,Q]),Object(c["useEffect"])((function(){Re("".concat(window.location.origin).concat(window.location.pathname)),Ae("\u3010".concat(R,"\u3011\u5206\u4eab\u81ea @segment_fault\uff0c\u4f20\u9001\u95e8\uff1a")),Pe("\u3010".concat(R,"\u3011\u5206\u4eab\u81ea @SegmentFault\uff0c\u4f20\u9001\u95e8\uff1a"))}),[De]),Object(c["useEffect"])((function(){if(!Ve){var e,t=null===(e=document)||void 0===e?void 0:e.querySelector(".qrcode");k.a.toCanvas(t,window.location.href,{margin:0},(function(e,t){e&&console.error(e),He(t.toDataURL())}))}}),[Ve]);var Ze=function(){Object(O["c"])()&&(ce.like?w["l"].confirm({content:"\u4e0d\u80fd\u7ed9\u81ea\u5df1\u70b9\u8d5e"}):z&&"article"===T?w["l"].confirm({content:"\u4f60\u662f\u4f5c\u8005\uff0c\u65e0\u6cd5\u5bf9\u81ea\u5df1\u8fdb\u884c\u6b64\u64cd\u4f5c"}):(Object(h["db"])({id:t,type:T,is_like:he?0:1}),ie(he?oe-1:oe+1),je(!he),F({type:"action/saveLike",payload:{votes:he?oe-1:oe+1,votesState:!he}})))},$e=function(){Object(O["c"])()&&Ce(!0)},et=function(e){pe(e?be+1:be-1),Ne(e),F({type:"action/saveBookmark",payload:{bookmarks:e?be+1:be-1,bookmarkState:e}})},tt=function(){Object(O["c"])()&&(ce.hate?w["l"].confirm({content:"\u4e0d\u80fd\u7ed9\u81ea\u5df1\u70b9\u8e29"}):(Object(h["ab"])({id:t,type:T,is_hate:de?0:1}),ue(!de),Xe(!de),he&&(je(!he),ie(he?oe-1:oe+1))))},at=r.a.createElement(l["a"],{id:"popover-basic"},r.a.createElement(l["a"].Content,null,"\u5982\u679c\u8be5\u5185\u5bb9\u6709\u53ef\u6539\u8fdb\u7684\u4f59\u5730\uff0c\u6b22\u8fce\u901a\u8fc7\u8bc4\u8bba\u7ed9\u4f5c\u8005\u5efa\u8bae\u3002"));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"sticky-wrap ".concat(H?"sticky-top":""," functional-area-left d-none d-xl-flex justify-content-center pt-5 ").concat("article"===T?"functional-area-left2":""),style:Y},r.a.createElement(o["a"],{vertical:!0,className:"align-items-center"},r.a.createElement(i["a"],{variant:"outline-primary",className:"func-btn mainLike  sflex-center shadow-sm rounded-circle main-".concat(X,"-Like ").concat("question"===T?"mb-2":"mb-3"),active:he,onClick:Ze},r.a.createElement(d["a"],{icon:u["p"]}),r.a.createElement("span",{className:"mainLikeNum ".concat(oe>0?"":"invisible")},oe)),Z&&r.a.createElement(s["a"],{trigger:"click",placement:"right",show:Je,overlay:at},r.a.createElement(i["a"],{variant:"outline-secondary",className:"func-btn sflex-center rounded-circle main-".concat(X,"-Like main-hate mb-3"),active:de,onClick:tt,onBlur:function(){return Xe(!1)}},r.a.createElement(d["a"],{icon:u["o"],className:"fa-flip-horizontal"}))),ee&&r.a.createElement(i["a"],{variant:"outline-secondary",className:"func-btn sflex-center rounded-circle mb-2",onClick:$e,active:ke},r.a.createElement(d["a"],{icon:ke&&"article"!==T?b["b"]:u["a"]})),P&&r.a.createElement("a",{className:"func-btn sflex-center btn btn-outline-secondary rounded-circle mb-2",href:"#comment-area"},r.a.createElement(d["a"],{icon:u["b"]})),ae&&r.a.createElement(m["a"],null,r.a.createElement(m["a"].Toggle,{as:v["a"],className:"func-btn nav-tab-item  rounded-pill btn btn-outline-secondary sflex-center rounded-circle"},r.a.createElement(d["a"],{icon:u["k"]})),r.a.createElement(m["a"].Menu,{className:"dropdown-menu-down",show:q},r.a.createElement("div",{className:"text-center mt-2"},r.a.createElement("div",{className:"qr"},r.a.createElement("img",{crossOrigin:"anonymous",src:Ve,width:"118",height:"118"})),"\u626b\u4e00\u626b\u5206\u4eab"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement(m["a"].Item,{className:"p-0",onKeyDown:function(e){13===e.keyCode&&We.current.click()}},r.a.createElement(p["a"],{title:Le,url:De,image:U,ref:We,className:"btn w-100 pl-4 pr-4 pt-1 pb-1 text-left"},r.a.createElement(d["a"],{icon:f["g"],className:"fa-fw"})," \u65b0\u6d6a\u5fae\u535a")),r.a.createElement(m["a"].Item,{className:"p-0",onKeyDown:function(e){13===e.keyCode&&Qe.current.click()}},r.a.createElement(E["a"],{title:Fe,url:De,ref:Qe,className:"btn w-100 pl-4 pr-4 pt-1 pb-1 text-left"},r.a.createElement(d["a"],{icon:f["f"],className:"fa-fw"})," Twitter")),r.a.createElement(m["a"].Item,{className:"p-0",onKeyDown:function(e){13===e.keyCode&&Ge.current.click()}},r.a.createElement(g["a"],{title:Fe,url:De,ref:Ge,className:"btn w-100 pl-4 pr-4 pt-1 pb-1 text-left"},r.a.createElement(d["a"],{icon:f["a"],className:"fa-fw"})," Facebook")))))),r.a.createElement(j["a"],{id:t,isShow:Se,setShowStatus:Ce,setBookmarkedState:et,source:T}),r.a.createElement("canvas",{hidden:!0,className:"qrcode"}))};t["a"]=Object(N["b"])((function(e){var t=e.action;return{action:t}}))(r.a.memo(x))},kwfb:function(e,t,a){"use strict";var n=a("ODXe"),c=a("q1tI"),r=a.n(c),l=function(e){var t=e.name,a=Object(c["useState"])(""),l=Object(n["a"])(a,2),o=l[0],i=l[1];return Object(c["useEffect"])((function(){var e,a=null;(null===(e=window.OA_output)||void 0===e?void 0:e[t])&&clearInterval(a),a=setInterval((function(){var e,n;(null===(e=window.OA_output)||void 0===e?void 0:e[t])&&((null===(n=window.OA_output)||void 0===n?void 0:n[t])&&clearInterval(a),i(window.OA_output[t]))}))}),[]),Object(c["useEffect"])((function(){o&&o.indexOf("adsbygoogle")>-1&&(window.adsbygoogle=window.adsbygoogle||[]).push({})}),[o]),r.a.createElement("div",{id:"OA_holder_".concat(t),className:"ad-container",style:{display:"block"},dangerouslySetInnerHTML:{__html:o}})};t["a"]=l},nWVH:function(e,t,a){},oGiJ:function(e,t,a){"use strict";a.r(t);var n=a("o0o1"),c=a.n(n),r=a("HaE+"),l=a("VTBJ"),o=a("ODXe"),i=a("q1tI"),s=a.n(i),m=a("7vrA"),d=a("3Z9Z"),u=a("JI6e"),v=a("TUci"),f=a("kUPb"),b=a("6xyR"),p=a("HToz"),E=a.n(p),g=a("dDCJ"),h=a("AINe"),j=a("IP2g"),O=a("4Bjl"),y=a("Wgwc"),k=a.n(y),N=a("Dp36"),w=a("QgiU"),x=a.n(w),S=(a("pHGr"),a("bdvc"));k.a.locale("zh-cn"),k.a.extend(x.a);var C=function(e){var t,a,n,c,r=e.title,l=e.user,o=e.id,i=e.created,m=e.modified,d=e.isEditor,u=e.initPage,v=e.actions,f=function(){(null===v||void 0===v?void 0:v.find((function(e){return"recommend"===e.action})))?Object(N["i"])(o).then((function(e){e&&(null===u||void 0===u||u())})):Object(N["e"])(o).then((function(e){e&&(null===u||void 0===u||u())}))};return s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",{className:"h2 mb-3"},s.a.createElement("a",{href:"/a/".concat(o),className:"text-body"},r)),s.a.createElement("div",{className:"d-flex align-items-center mb-4"},s.a.createElement("a",{href:null===l||void 0===l?void 0:l.url,className:"d-flex align-items-center"},s.a.createElement("picture",{className:"mr-2 d-sm-block d-none"},s.a.createElement("img",{src:(null===l||void 0===l?void 0:l.avatar_url)||"https://image-static.segmentfault.com/317/931/3179314346-5f61e47221e07",alt:"",className:"d-inline-block rounded-circle",width:"32"})),s.a.createElement("strong",{className:"align-self-center font-size-14"},null===l||void 0===l?void 0:l.name)),(null===l||void 0===l||null===(t=l.user_auth)||void 0===t?void 0:t.is_auth)?s.a.createElement("ul",{className:"list-inline mb-0 authentication-info sflex-center font-size-14 ml-1"},s.a.createElement("li",{className:"list-inline-item",style:{color:"#BF7158"}},s.a.createElement(g["a"],{placement:"top",overlay:s.a.createElement(h["a"],{id:"top"},s.a.createElement("span",{className:""},null===l||void 0===l||null===(a=l.user_auth)||void 0===a?void 0:a.info))},s.a.createElement(j["a"],{className:"text-warning",icon:O["a"]})))):null,i!==m&&m>i?s.a.createElement(g["a"],{placement:"top",overlay:s.a.createElement(h["a"],{id:"top"},s.a.createElement("span",{className:""},"\u66f4\u65b0\u4e8e ",Object(S["c"])(m)))},s.a.createElement("time",{className:"text-secondary font-size-14",dateTime:k.a.unix(i).toISOString(),itemProp:"datePublished",style:{marginLeft:"12px"}},"\u53d1\u5e03\u4e8e ",Object(S["c"])(i))):s.a.createElement("time",{className:"text-secondary font-size-14",dateTime:k.a.unix(i).toISOString(),itemProp:"datePublished",style:{marginLeft:"12px"}},"\u53d1\u5e03\u4e8e ",Object(S["c"])(i)),d&&s.a.createElement(s.a.Fragment,null,s.a.createElement("a",{href:"/a/".concat(o,"/edit"),className:"font-size-14",style:{margin:"0 12px"}},"\u7f16\u8f91"),s.a.createElement("a",{href:"#",className:"font-size-14",onClick:f},(null===v||void 0===v||null===(n=v.find((function(e){return"recommend"===e.action})))||void 0===n?void 0:n.name)||(null===v||void 0===v||null===(c=v.find((function(e){return"cancel-recommend"===e.action})))||void 0===c?void 0:c.name)))))},_=C,I=a("tSvB"),D=a("4GjR"),R=a("9kvl"),B=(a("5SRE"),function(e){var t=e.realRed,a=void 0===t?0:t,n=e.read,c=void 0===n?0:n,r=e.created,l=void 0===r?0:r,o=e.modified,i=void 0===o?0:o,m=e.id,v=e.actions,f=void 0===v?[]:v,b=e.initPage,p=e.isEditor,E=e.memberActions,j=Object(R["g"])(),O=function(){j({type:"global/saveSingleNotice",payload:""})},y=function(e,t){switch(window.scroll(0,0),t){case"report":I["l"].confirm({content:"string"===typeof e?e:"\u4e3e\u62a5\u6210\u529f"});break;case"hide-setting":case"delete":j({type:"global/saveSingleNotice",payload:"string"===typeof e?e:""}),null===b||void 0===b||b();break;case"reject":O(),null===b||void 0===b||b();break;default:"string"===typeof e&&j({type:"global/saveSingleNotice",payload:"string"===typeof e?e:""}),null===b||void 0===b||b();break}};return s.a.createElement(s.a.Fragment,null,s.a.createElement(d["a"],{className:"text-secondary font-size-14 mt-3 mb-5 d-flex justify-content-between"},s.a.createElement(u["a"],null,s.a.createElement("span",null,"\u9605\u8bfb ",Object(S["d"])(c),p&&a>0&&"\uff08UV ".concat(Object(S["d"])(a),"\uff09")),s.a.createElement("span",{className:"split-dot"}),l!==i&&i>l?s.a.createElement(g["a"],{placement:"top",overlay:s.a.createElement(h["a"],{id:"tip-top"},"\u53d1\u5e03\u4e8e ",s.a.createElement("span",null,Object(S["c"])(l)))},s.a.createElement("time",{dateTime:k.a.unix(l).toISOString(),itemProp:"datePublished"},"\u66f4\u65b0\u4e8e ",Object(S["c"])(i))):s.a.createElement("time",{dateTime:k.a.unix(l).toISOString(),itemProp:"datePublished"},"\u53d1\u5e03\u4e8e ",Object(S["c"])(l))),s.a.createElement(u["a"],{className:"operation col-6 text-right col-xs-3"},s.a.createElement(D["a"],{id:m,actions:f,type:"article",onCallBack:y,member_actions:E}))))}),U=s.a.memo(B),F=a("pJDg"),A=a("cWnB"),q=a("97+O"),T=a("24g8"),L=a("QeUd"),P=a("aWbt"),M=a("uB96"),z=a("8tEE"),V=a("wFk/"),H=a("6Yt9"),K=a("0FX9"),Y=a.n(K),J=a("YdHu"),X=(a("78gL"),function(e){var t=e.id,a=e.isLiked,n=void 0!==a&&a,c=e.votes,r=void 0===c?0:c,l=e.isBookmarked,m=void 0!==l&&l,d=e.bookmarks,u=void 0===d?0:d,v=e.title,f=void 0===v?"":v,b=e.banner,p=void 0===b?"":b,E=e.isAuthor,g=e.dispatch,h=Object(i["useState"])(r),O=Object(o["a"])(h,2),y=O[0],k=O[1],w=Object(i["useState"])(u),x=Object(o["a"])(w,2),S=x[0],C=x[1],_=Object(i["useState"])(n),D=Object(o["a"])(_,2),R=D[0],B=D[1],U=Object(i["useState"])(m),K=Object(o["a"])(U,2),X=K[0],W=K[1],Q=Object(i["useState"])(!1),G=Object(o["a"])(Q,2),Z=G[0],$=G[1],ee=Object(i["useState"])(""),te=Object(o["a"])(ee,2),ae=te[0],ne=te[1],ce=Object(i["useState"])(""),re=Object(o["a"])(ce,2),le=re[0],oe=re[1],ie=Object(i["useState"])(""),se=Object(o["a"])(ie,2),me=se[0],de=se[1],ue=Object(i["useState"])(""),ve=Object(o["a"])(ue,2),fe=ve[0],be=ve[1],pe=Object(i["useRef"])(),Ee=Object(i["useRef"])(),ge=Object(i["useRef"])();Object(i["useEffect"])((function(){B(n),W(m),k(r),C(u)}),[n,m,r,u]),Object(i["useEffect"])((function(){ne("".concat(window.location.origin).concat(window.location.pathname)),oe("\u3010".concat(f,"\u3011\u5206\u4eab\u81ea @segment_fault\uff0c\u4f20\u9001\u95e8\uff1a")),de("\u3010".concat(f,"\u3011\u5206\u4eab\u81ea @SegmentFault\uff0c\u4f20\u9001\u95e8\uff1a"))}),[ae]),Object(i["useEffect"])((function(){if(!fe){var e,t=null===(e=document)||void 0===e?void 0:e.querySelector(".qrcode");Y.a.toCanvas(t,window.location.href,{margin:0},(function(e,t){e&&console.error(e),be(t.toDataURL())}))}}),[fe]);var he=function(){Object(H["c"])()&&(E?I["l"].confirm({content:"\u4f60\u662f\u4f5c\u8005\uff0c\u65e0\u6cd5\u5bf9\u81ea\u5df1\u8fdb\u884c\u6b64\u64cd\u4f5c"}):(Object(N["db"])({id:t,type:"article",is_like:R?0:1}),k(R?y-1:y+1),B(!R),g({type:"action/saveLike",payload:{votes:R?y-1:y+1,votesState:!R}})))},je=function(){Object(H["c"])()&&$(!0)},Oe=function(e){C(e?S+1:S-1),W(e),g({type:"action/saveBookmark",payload:{bookmarks:e?S+1:S-1,bookmarkState:e}})};return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"functional-area-bottom text-center"},s.a.createElement(F["a"],{className:"btn-group like-group align-items-center",role:"group"},s.a.createElement(A["a"],{className:"btn mr-2 rounded",variant:"outline-primary",active:R,onClick:he},s.a.createElement(j["a"],{icon:M["p"]}),s.a.createElement("span",{className:"ml-1"},R?"\u5df2\u8d5e":"\u8d5e"),y>0&&s.a.createElement("span",{className:"mainLikeNum ml-1"},y)),s.a.createElement(A["a"],{className:"btn mr-2 rounded",variant:"outline-secondary",active:X,onClick:je},s.a.createElement(j["a"],{icon:M["a"]}),s.a.createElement("span",{className:"ml-1"},X?"\u5df2\u6536\u85cf":"\u6536\u85cf"),S>0&&s.a.createElement("span",{className:"ml-1"},S)),s.a.createElement(q["a"],{className:"bottom-share-wrap"},s.a.createElement(q["a"].Toggle,{as:J["a"],className:"nav-tab-item  btn d-flex justify-content-center align-items-center"},s.a.createElement(A["a"],{className:"btn rounded",variant:"outline-secondary",active:!1},s.a.createElement(j["a"],{icon:M["k"]}),s.a.createElement("span",{className:"ml-1"},"\u5206\u4eab"))),s.a.createElement(q["a"].Menu,{className:"dropdown-menu-down"},s.a.createElement("div",{className:"text-center mt-2",style:{cursor:"auto"}},s.a.createElement("div",{className:"qr"},s.a.createElement("img",{crossOrigin:"anonymous",src:fe,width:"118",height:"118"})),"\u626b\u4e00\u626b\u5206\u4eab"),s.a.createElement("div",{className:"dropdown-divider"}),s.a.createElement(q["a"].Item,{className:"p-0",onKeyDown:function(e){13===e.keyCode&&pe.current.click()}},s.a.createElement(T["a"],{title:me,url:ae,image:p,ref:pe,className:"btn w-100 pl-4 pr-4 pt-1 pb-1 text-left"},s.a.createElement(j["a"],{icon:z["g"],className:"fa-fw"})," \u65b0\u6d6a\u5fae\u535a")),s.a.createElement(q["a"].Item,{className:"p-0",onKeyDown:function(e){13===e.keyCode&&Ee.current.click()}},s.a.createElement(L["a"],{title:le,url:ae,ref:Ee,className:"btn w-100 pl-4 pr-4 pt-1 pb-1 text-left"},s.a.createElement(j["a"],{icon:z["f"],className:"fa-fw"})," Twitter")),s.a.createElement(q["a"].Item,{className:"p-0",onKeyDown:function(e){13===e.keyCode&&ge.current.click()}},s.a.createElement(P["a"],{title:le,url:ae,ref:ge,className:"btn w-100 pl-4 pr-4 pt-1 pb-1 text-left"},s.a.createElement(j["a"],{icon:z["a"],className:"fa-fw"})," Facebook")))))),s.a.createElement(V["a"],{id:t,isShow:Z,setShowStatus:$,setBookmarkedState:Oe,source:"article"}),s.a.createElement("canvas",{hidden:!0,className:"qrcode"}))}),W=Object(R["b"])((function(e){var t=e.action;return Object(l["a"])({},t)}))(s.a.memo(X)),Q=function(e){var t=e.type,a=e.licence;return s.a.createElement("div",{className:"font-size-14 text-secondary text-center mt-3 mb-5"},(0===t||1===t)&&s.a.createElement(s.a.Fragment,null,s.a.createElement("span",null,"\u672c\u4f5c\u54c1\u7cfb\u539f\u521b\uff0c"),"sa"===a?s.a.createElement("a",{target:"_blank",rel:"noreferrer",className:"text-secondary",href:"https://creativecommons.org/licenses/by-nc-sa/4.0/"},"\u91c7\u7528\u300a\u7f72\u540d-\u975e\u5546\u4e1a\u6027\u4f7f\u7528-\u76f8\u540c\u65b9\u5f0f\u5171\u4eab 4.0 \u56fd\u9645\u300b\u8bb8\u53ef\u534f\u8bae"):"nd"===a?s.a.createElement("a",{target:"_blank",rel:"noreferrer",className:"text-secondary",href:"https://segmentfault.com/tos#sec-licence-4"},"\u4f5c\u8005\u4fdd\u7559\u6240\u6709\u6743\u5229\uff0c\u672a\u7ecf\u4f5c\u8005\u5141\u8bb8\uff0c\u7981\u6b62\u8f6c\u8f7d\u548c\u6f14\u7ece"):s.a.createElement("a",{target:"_blank",rel:"noreferrer",className:"text-secondary",href:"https://creativecommons.org/licenses/by-nc-nd/4.0/"},"\u91c7\u7528\u300a\u7f72\u540d-\u975e\u5546\u4e1a\u6027\u4f7f\u7528-\u7981\u6b62\u6f14\u7ece 4.0 \u56fd\u9645\u300b\u8bb8\u53ef\u534f\u8bae")))},G=s.a.memo(Q),Z=a("kwfb"),$=function(e){var t=e.originUrl,a=void 0===t?"":t,n=e.type;return s.a.createElement("div",{className:"bg-light my-4 p-3"},s.a.createElement("a",{className:"d-flex align-items-center text-body",href:a,target:"_blank",rel:"noreferrer"},s.a.createElement("div",{className:"d-flex align-items-center bg-secondary justify-content-center mr-3 rounded px-3",style:{width:"48px",height:"48px"}},s.a.createElement(j["a"],{icon:M["e"],className:"font-size-20 text-white"})),s.a.createElement("div",{className:"media-body"},s.a.createElement("div",{className:"text-body mb-0 font-weight-bold"},s.a.createElement("span",{style:{color:"#000"}},"\u672c\u6587\u7cfb",2===n?"\u8f6c\u8f7d":"\u7ffb\u8bd1","\uff0c\u9605\u8bfb\u539f\u6587")),s.a.createElement("small",{className:"font-size-13 text-secondary",style:{wordBreak:"break-word"}},a))))},ee=s.a.memo($),te=function(e){var t=e.tags,a=void 0===t?[]:t,n=(null===a||void 0===a?void 0:a.length)>0?s.a.createElement("div",{className:"d-sm-flex d-none flex-wrap align-items-center"},s.a.createElement("div",{className:"m-n1"},a.map((function(e){return s.a.createElement("a",{href:e.url,className:"m-1 badge-tag",key:e.id},(null===e||void 0===e?void 0:e.iconUrl)&&s.a.createElement("img",{src:e.iconUrl,alt:"",width:"16",height:"16",className:"mr-1"}),e.name)})))):null;return n},ae=s.a.memo(te),ne=a("EVdn"),ce=a("wwbV"),re=function(e){var t=e.blog,a=Object(i["useState"])((null===t||void 0===t?void 0:t.is_followed)||0),n=Object(o["a"])(a,2),l=n[0],m=n[1],d=function(){var e=Object(r["a"])(c.a.mark((function e(){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Object(H["c"])()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,Object(N["w"])({id:t.id,is_follow:l?0:1});case 4:return m(!l),e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i["useEffect"])((function(){ne(document.body).width()<576&&ne("#followUser button").addClass("col-12"),ne(window).resize((function(){console.log("change"),ne(document.body).width()<576?ne("#followUser button").addClass("col-12"):ne("#followUser button").removeClass("col-12")}))})),s.a.createElement(s.a.Fragment,null,s.a.createElement("hr",{className:"mb-0"}),s.a.createElement("div",{className:"d-flex flex-sm-row align-items-center pt-4 row"},s.a.createElement("div",{className:"d-flex align-items-center flex-grow-1 author-left col-sm-9 col-12"},s.a.createElement("img",{className:"mr-3 rounded",width:"64",src:"https://image-static.segmentfault.com/383/303/3833030929-5ffd15fc110ab","aria-hidden":"true"}),s.a.createElement("div",{className:"w-100"},s.a.createElement("a",{href:null===t||void 0===t?void 0:t.url,className:"text-body"},s.a.createElement("h5",{className:"mb-0"},null===t||void 0===t?void 0:t.name)),(null===t||void 0===t?void 0:t.excerpt)&&s.a.createElement("div",{className:"text-truncate text-secondary mt-2"},null===t||void 0===t?void 0:t.excerpt))),s.a.createElement("div",{className:"author-right flex-shrink-0 col-sm-3 col-12 text-sm-right text-left mt-sm-0 mt-3",id:"followUser"},s.a.createElement(ce["a"],{onClick:d},l?"\u5df2\u5173\u6ce8":"\u5173\u6ce8\u4e13\u680f"))))},le=s.a.memo(re),oe=a("LvDl"),ie=function(e){var t,n,c=e.detail,r=e.actionData,l=e.actions,m=e.initPage,d=e.imageUrl,u=e.isEditor,v=e.isAuthor,f=e.memberActions,p=Object(i["useState"])(""),g=Object(o["a"])(p,2),h=g[0],j=g[1],O=c.article,y=c.blog,N=c.title,w=void 0===N?"":N;return Object(i["useEffect"])((function(){j(window.publicPath||"")}),[]),Object(i["useEffect"])((function(){if(!Object(oe["isEmpty"])(c)){var e=new E.a;e.update()}})),s.a.createElement(s.a.Fragment,null,s.a.createElement(R["a"],null,s.a.createElement("meta",{name:"sogou_site_verification",content:"MKVKCoIjwL"}),s.a.createElement("meta",{name:"360-site-verification",content:"737314c9bf48873a1a0a22295203d9d1"}),s.a.createElement("meta",{name:"userId",value:null===O||void 0===O||null===(t=O.user)||void 0===t?void 0:t.id,id:"SFUserId"}),s.a.createElement("meta",{name:"userRank",value:null===O||void 0===O||null===(n=O.user)||void 0===n?void 0:n.rank,id:"SFUserRank"}),s.a.createElement("meta",{name:"twitter:card",content:d?"summary_large_image":"summary"}),s.a.createElement("meta",{name:"twitter:image",content:d||"".concat(h,"touch-icon.png")}),s.a.createElement("meta",{name:"twitter:site",content:"@segment_fault"}),s.a.createElement("meta",{name:"twitter:creator",content:"@segmentfault"}),s.a.createElement("meta",{name:"twitter:title",content:w}),s.a.createElement("meta",{name:"og:type",content:"article"}),s.a.createElement("meta",{name:"og:image",content:d||"".concat(h,"touch-icon.png")}),s.a.createElement("meta",{name:"og:title",content:w}),s.a.createElement("meta",{name:"msvalidate.01",content:"2C018C53297C8388F3E7052F5E9CA6AF"}),s.a.createElement("meta",{name:"event-object",value:'{"current": ["article", ["'.concat(null===O||void 0===O?void 0:O.id,'"]], "root": ["article", "').concat(null===O||void 0===O?void 0:O.id,'"]}'),id:"SFEventObject"}),s.a.createElement("script",{type:"application/ld+json"},"{\n            '@context': 'https://schema.org',\n            '@type': 'Article',\n            mainEntityOfPage: {\n              '@type': 'WebPage',\n              '@id': 'https://google.com/article',\n            },\n            name: '".concat(w,"',\n            headline: '").concat(w,"',\n            image: '").concat(d||"".concat(h,"touch-icon.png"),"'\n            datePublished: '").concat(k.a.unix(null===O||void 0===O?void 0:O.created).toISOString(),"',\n            dateModified: '").concat(k.a.unix(null===O||void 0===O?void 0:O.modified).toISOString(),"',\n            url: 'https://segmentfault.com/a/").concat(null===O||void 0===O?void 0:O.id,"'\n            author: {\n              '@type': 'Person',\n              name: '").concat(null===O||void 0===O?void 0:O.user.name,"',\n            },\n            publisher: {\n              '@type': 'Organization',\n              name: 'Segmentfault',\n              logo: {\n                '@type': 'ImageObject',\n                url:\n                  'https://assets.segmentfault.com/v-5fc4b0b2/global/img/static/touch-icon.png',\n              },\n            },\n          }"))),s.a.createElement(b["a"],{className:"border-0 mb-4"},(null===O||void 0===O?void 0:O.cover)&&s.a.createElement(b["a"].Img,{variant:"top",src:a("xQMv"),className:"w-100",style:{background:"no-repeat center url(".concat(O.cover,")"),backgroundSize:"cover"}}),s.a.createElement(b["a"].Body,{className:"p-lg-30 position-relative"},s.a.createElement(_,{title:null===O||void 0===O?void 0:O.title,user:null===O||void 0===O?void 0:O.user,id:null===O||void 0===O?void 0:O.id,created:null===O||void 0===O?void 0:O.created,modified:null===O||void 0===O?void 0:O.modified,isEditor:u,initPage:m,actions:l}),s.a.createElement(Z["a"],{name:"25"}),s.a.createElement("article",{className:"article fmt article-content",dangerouslySetInnerHTML:{__html:null===O||void 0===O?void 0:O.parsed_text}}),s.a.createElement(ae,{tags:null===O||void 0===O?void 0:O.tags}),(null===O||void 0===O?void 0:O.article_type)>1&&s.a.createElement(ee,{originUrl:null===O||void 0===O?void 0:O.origin_url,type:null===O||void 0===O?void 0:O.article_type}),s.a.createElement("div",{className:"my-4"},s.a.createElement(Z["a"],{name:"3"})),s.a.createElement(U,{realRed:null===O||void 0===O?void 0:O.real_unique_views,read:null===O||void 0===O?void 0:O.real_views,created:null===O||void 0===O?void 0:O.created,modified:null===O||void 0===O?void 0:O.modified,id:null===O||void 0===O?void 0:O.id,actions:l,initPage:m,isEditor:u,memberActions:f}),s.a.createElement(W,{id:null===O||void 0===O?void 0:O.id,title:null===O||void 0===O?void 0:O.title,votes:null===r||void 0===r?void 0:r.votes,isLiked:null===r||void 0===r?void 0:r.votesState,isBookmarked:null===r||void 0===r?void 0:r.bookmarkState,bookmarks:null===r||void 0===r?void 0:r.bookmarks,banner:null===O||void 0===O?void 0:O.cover,isAuthor:v}),s.a.createElement(G,{type:null===O||void 0===O?void 0:O.article_type,licence:null===y||void 0===y?void 0:y.licence}),(null===y||void 0===y?void 0:y.id)&&s.a.createElement(le,{blog:y}))))},se=s.a.memo(ie),me=a("cor7"),de=a("sjrs"),ue=function(e){var t,a=e.data;return s.a.createElement("a",{className:"list-group-item list-group-item-action py-3",href:"".concat(null===a||void 0===a?void 0:a.url,"?utm_source=sf-related"),target:"_blank"},s.a.createElement("h5",{className:"h5 mb-2 text-break",style:{color:"#212529"}},null===a||void 0===a?void 0:a.title),s.a.createElement("p",{className:"mb-2 text-truncate text-secondary"},null===a||void 0===a?void 0:a.excerpt),s.a.createElement("p",{className:"d-flex align-items-center font-size-14 mb-0"},s.a.createElement("span",{className:"text-primary"},null===a||void 0===a||null===(t=a.user)||void 0===t?void 0:t.name),(null===a||void 0===a?void 0:a.views)>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"split-dot"}),s.a.createElement("span",null,"\u9605\u8bfb ",Object(S["d"])(null===a||void 0===a?void 0:a.views))),(null===a||void 0===a?void 0:a.votes)>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"split-dot"}),s.a.createElement("span",null,Object(S["d"])(null===a||void 0===a?void 0:a.votes)," \u8d5e")),(null===a||void 0===a?void 0:a.comments)>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"split-dot"}),s.a.createElement("span",null,Object(S["d"])((null===a||void 0===a?void 0:a.comments)||0)," \u8bc4\u8bba"))))},ve=s.a.memo(ue),fe=(a("wroQ"),function(e){var t=e.list,a=void 0===t?[]:t;return a.length?s.a.createElement(de["a"],{className:"recommend-list-wrap mt-4"},s.a.createElement("h5",{className:"h5 mb-2 px-4 px-md-0",style:{fontWeight:600}},"\u63a8\u8350\u9605\u8bfb"),s.a.createElement("div",{className:"card border-0"},s.a.createElement("div",{className:"list-group list-group-flush"},a.map((function(e){return s.a.createElement(ve,{key:null===e||void 0===e?void 0:e.id,data:e})}))))):null}),be=s.a.memo(fe),pe=a("6T2I"),Ee=function(e){var t,a,n,c,r,l=e.id,o=e.extra,i=e.status,m=e.sessionUser,d=void 0===m?{}:m;return s.a.createElement(s.a.Fragment,null,"rejected"===i&&s.a.createElement(v["a"],{className:"mb-3",variant:"warning"},s.a.createElement("div",{className:""},s.a.createElement("div",null,o.reason),s.a.createElement("div",null,s.a.createElement("span",null,"\u4f60\u53ef\u4ee5"),s.a.createElement("a",{href:"/a/".concat(l,"/edit")}," \u518d\u6b21\u7f16\u8f91 "),s.a.createElement("span",null,"\u4ee5\u91cd\u65b0\u53d1\u8868"))),s.a.createElement("div",{className:"mt-3"},"\u6ce8\u610f\uff1a\u5982\u679c\u8be5\u5185\u5bb9"),s.a.createElement("ul",null,s.a.createElement("li",null,"\u8fde\u7eed 3 \u6b21\u53d1\u8868\u672a\u901a\u8fc7"),s.a.createElement("li",null,"\u53d1\u8868\u672a\u6210\u529f\u4e00\u5468\u5185\u4f4d\u505a\u4efb\u4f55\u6539\u52a8")),s.a.createElement("div",{className:"mt-3"},"\u90fd\u5c06\u88ab\u7cfb\u7edf\u81ea\u52a8\u5220\u9664\uff0c\u5982\u6709\u5fc5\u8981\uff0c\u8bf7\u505a\u597d\u5907\u4efd\u3002")),"deleted"===i&&s.a.createElement(v["a"],{className:"mb-3",variant:"warning"},s.a.createElement("span",null,o.reason),s.a.createElement("div",null,"\u64cd\u4f5c\u8005\uff1a",s.a.createElement("a",{href:""},null===o||void 0===o||null===(t=o.operator)||void 0===t?void 0:t.name))),"hidden"===i&&(null===d||void 0===d||null===(a=d.roles)||void 0===a?void 0:a.is_editor)&&s.a.createElement(v["a"],{className:"mb-3",variant:"warning"},s.a.createElement("div",null,o.reason),(null===o||void 0===o?void 0:o.operator)?s.a.createElement("div",null,"\u64cd\u4f5c\u8005\uff1a",s.a.createElement("a",{href:""},null===o||void 0===o||null===(n=o.operator)||void 0===n?void 0:n.name)):""),"locked"===i&&s.a.createElement(v["a"],{className:"mb-3",variant:"warning"},s.a.createElement("div",null,o.reason),s.a.createElement("div",null,"\u64cd\u4f5c\u8005\uff1a",s.a.createElement("a",{href:"/u/".concat(null===o||void 0===o||null===(c=o.operator)||void 0===c?void 0:c.name)},null===o||void 0===o||null===(r=o.operator)||void 0===r?void 0:r.name),s.a.createElement("br",null),"\u64cd\u4f5c\u8005\u65f6\u95f4\uff1a",k.a.unix(null===o||void 0===o?void 0:o.operator_time).format("YYYY-MM-DD HH:MM"))))},ge=Ee,he=function(e){var t,a,n,l=e.user,m=Object(i["useState"])(null===l||void 0===l?void 0:l.is_followed),d=Object(o["a"])(m,2),u=d[0],v=d[1],f=Object(i["useState"])(null===l||void 0===l?void 0:l.followers),p=Object(o["a"])(f,2),E=p[0],g=p[1],h=function(){var e=Object(r["a"])(c.a.mark((function e(){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Object(H["c"])()){e.next=2;break}return e.abrupt("return",!1);case 2:return Object(N["x"])({id:l.id,is_follow:u?0:1}).then((function(e){g((null===e||void 0===e?void 0:e.is_followed)?E+1:E-1),v(null===e||void 0===e?void 0:e.is_followed)})),e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.a.createElement(b["a"],{className:"mb-4 border-0"},s.a.createElement(b["a"].Body,null,s.a.createElement("div",{className:"d-flex align-items-center mb-3"},s.a.createElement("picture",{className:"rounded-circle mr-3"},s.a.createElement("img",{src:(null===l||void 0===l?void 0:l.avatar_url)||"https://image-static.segmentfault.com/317/931/3179314346-5f61e47221e07",alt:"avatar",width:"64",height:"64",className:"rounded-circle"})),s.a.createElement("div",null,s.a.createElement("h5",{className:"mb-0"},s.a.createElement("a",{href:null===l||void 0===l?void 0:l.url,className:"text-body"},null===l||void 0===l?void 0:l.name)),Boolean(null===l||void 0===l||null===(t=l.user_auth)||void 0===t?void 0:t.is_auth)&&(null===l||void 0===l||null===(a=l.user_auth)||void 0===a?void 0:a.info)&&s.a.createElement("div",{className:"mt-2 font-size-14 authentication-info"},s.a.createElement(j["a"],{className:"mr-1 text-warning",icon:O["a"]}),null===l||void 0===l||null===(n=l.user_auth)||void 0===n?void 0:n.info))),(null===l||void 0===l?void 0:l.excerpt)&&s.a.createElement("p",{className:"text-secondary text-truncate-2"},null===l||void 0===l?void 0:l.excerpt),s.a.createElement("div",{className:"d-flex align-items-center mb-3"},s.a.createElement("div",{className:"mr-4"},s.a.createElement("strong",null,null===l||void 0===l?void 0:l.rankWord),s.a.createElement("span",{className:"text-secondary"}," \u58f0\u671b")),s.a.createElement("div",null,s.a.createElement("strong",null,Object(S["g"])(E)||0),s.a.createElement("span",{className:"text-secondary"}," \u7c89\u4e1d"))),s.a.createElement(ce["a"],{block:!0,variant:"primary",onClick:h},u?"\u5df2\u5173\u6ce8":"\u5173\u6ce8\u4f5c\u8005")))},je=s.a.memo(he),Oe=a("paDM"),ye=a("YKRR"),ke=function(){var e,t,a,n;if(!(ne(document.body).width()<576)){var c=ne(window).scrollTop(),r=(null===(e=ne("#gridAd"))||void 0===e||null===(t=e.offset())||void 0===t?void 0:t.top)||0,l=ne("#gridAd").height(),o=ne("#first-ad").height(),i=ne("#second-ad").height(),s=ne("#author").height(),m=ne("#sf-header").height()+20,d=(null===(a=document)||void 0===a||null===(n=a.getElementById("footer"))||void 0===n?void 0:n.getBoundingClientRect().top)||0;d-50<o+i+s?Object(oe["debounce"])((function(){ne("#first-ad").removeClass("data-fix").animate(),ne("#author").removeClass("data-fix").css({top:"atuo"}).animate(),ne("#second-ad").removeClass("data-fix").css({top:"auto",marginTop:0}).animate()}),100)():c>r+l/2?(ne("#author").css({top:"".concat(m+20,"px")}).addClass("data-fix"),ne("#first-ad").css({top:"".concat(m+s+20,"px")}).addClass("data-fix"),ne("#second-ad").css({top:"".concat(o+m+s+45,"px")}).addClass("data-fix")):(ne("#author").removeClass("data-fix").css({top:"atuo"}),ne("#first-ad").removeClass("data-fix"),ne("#second-ad").removeClass("data-fix").css({top:"auto",marginTop:0}))}},Ne=function(){var e='\n  <div class="is-active ImageView p-4" style="display: none;">\n      <div class="ImageView-inner" style="overflow: auto;">\n          <img src="" class="ImageView-img" alt="preview" style="max-width: 100%">\n      </div>\n  </div>';ne("body ImageView")&&ne(".ImageView").remove(),ne("body").append(e).on("click",".ImageView",(function(){ne(this).fadeOut()})).on("click","article img",(function(){var e=ne(this).attr("src");ne(this).parents("a").length||(e.startsWith("/img/")&&!e.match(/\/view$/)&&(e+="/view"),ne(".ImageView").find("img").attr("src",e)[0].onload=function(){ne(".ImageView").fadeIn()})}))},we=(a("SoKV"),a("Ty5D")),xe=(a("PmrS"),a("PFmq")),Se=a("9F+u"),Ce=a("2CDT"),_e=function(e){var t,n,c,r,b,p=e.artDetail,E=e.action,g=e.match,h=e.dispatch,j=e.sessionUser,O=e.articleRelated,y=Object(we["j"])(),k=Object(i["useRef"])(null);k.current=null===j||void 0===j||null===(t=j.user)||void 0===t?void 0:t.id;var N=g,w=N.params.aid,x=p[w]||{},C=x.article,_=void 0===C?{}:C,I=x.actions,D=x.extra,R=x.member_actions,B=x.event_object,U=x.tag,F=void 0===U?{}:U,A=E.votes,q=void 0===A?0:A,T=E.votesState,L=E.bookmarks,P=void 0===L?0:L,M=E.bookmarkState,z=(null===j||void 0===j?void 0:j.roles)||{},V=z.is_editor,H=Number(null===_||void 0===_||null===(n=_.user)||void 0===n?void 0:n.id)===(null===j||void 0===j||null===(c=j.user)||void 0===c?void 0:c.id),K=Object(i["useState"])(!1),Y=Object(o["a"])(K,2),J=Y[0],X=Y[1],W=Object(i["useState"])(""),Q=Object(o["a"])(W,2),G=Q[0],$=Q[1];Object(i["useEffect"])((function(){h({type:"articleDetail/getArtDetail",payload:{aid:w},callback:function(e){"error"===e&&y.replace("/404")}}),h({type:"articleDetail/getRelated",payload:w})}),[w]),Object(i["useEffect"])((function(){if(null===_||void 0===_?void 0:_.tags){var e=null===_||void 0===_?void 0:_.tags.map((function(e){return e.name})),t=null===e||void 0===e?void 0:e.join(",");Object(Ce["a"])(t)}}),[null===_||void 0===_?void 0:_.tags]);var ee=function(){h({type:"articleDetail/getArtDetail",payload:{aid:w},callback:function(){window.scroll(0,0)}})};return Object(i["useEffect"])((function(){var e=Object(S["e"])(window.location.href,"openShare");return X(Boolean("true"===e)),Ne(),window.addEventListener("scroll",(function(){return ke("")})),Object(Se["a"])("article"),function(){window.removeEventListener("scroll",(function(){return ke("")}))}}),[]),Object(i["useEffect"])((function(){if(!Object(oe["isEmpty"])(_)){var e;if(Promise.all([a.e(4),a.e(7),a.e(8)]).then(a.bind(null,"0lfv")).then((function(t){var a=t.highlight,n=t.renderMath,c=t.changeSpecialUrl,r=ne(".article.fmt");clearTimeout(e),e=setTimeout((function(){a(r)}),1e3),n(r[0]),c(r)})),ne(window).resize((function(){ne(document.body).width()<576&&ne("#first-ad").removeClass("data-fix")})),ne(document.body).width()<576)return void ne("article.article img").change((function(e){e.each((function(e,t){var a=t.getAttribute("src"),n=t.getAttribute("data-src"),c="";if(a=n||a,a){var r=a.indexOf("?");r>0&&(c=a.substring(r),a=a.substring(0,r)),a.match(/^\/img\//)&&!a.match(/\/view$/)&&(a=a+"/view"+c,t.setAttribute(n?"data-src":"src",a),t.setAttribute("data-src",a))}}))}),(function(e){e.each((function(e,t){var a=t.getAttribute("src"),n=t.getAttribute("data-src"),c="";if(a=n||a,a){var r=a.indexOf("?");r>0&&(c=a.substring(r),a=a.substring(0,r)),a.match(/^\/img\//)&&a.match(/\/view$/)&&(a=a.substring(0,a.length-5)+c,t.setAttribute(n?"data-src":"src",a))}}))}));var t=ne("article.article img");if((null===t||void 0===t?void 0:t.length)>0){var n,c=t[0].getAttribute("src"),r=t[0].getAttribute("data-src");c=r||c,c&&!(null===(n=c)||void 0===n?void 0:n.includes("http"))&&(c="".concat(window.location.origin).concat(c)),$(c||"")}}}),[_]),p[w]?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"d-none d-xl-flex justify-content-center"},s.a.createElement(Z["a"],{name:"2"})),s.a.createElement(m["a"],{className:"article-content"},s.a.createElement(pe["a"],{className:"mx-4 mx-md-0",data:[{name:"\u4e13\u680f",url:"/blogs"},Object(l["a"])({},F),{name:"\u6587\u7ae0\u8be6\u60c5",url:"###"}]}),s.a.createElement(d["a"],null,s.a.createElement(u["a"],{className:"col-12 col-xl w-0"},(null===_||void 0===_?void 0:_.status_key)&&(null===D||void 0===D?void 0:D.reason)&&s.a.createElement(ge,{id:w,extra:D,sessionUser:j,status:null===_||void 0===_?void 0:_.status_key}),"deleted"===(null===_||void 0===_?void 0:_.status_key)&&!(null===D||void 0===D?void 0:D.reason)&&s.a.createElement(v["a"],{className:"my-3",variant:"warning"},s.a.createElement("span",null,"\u8fd9\u7bc7\u6587\u7ae0\u5df2\u88ab\u5220\u9664")),s.a.createElement(f["a"],{id:null===_||void 0===_?void 0:_.id,votes:q,title:null===_||void 0===_?void 0:_.title,isLiked:T,isBookmarked:M,bookmarks:P,showShare:J,banner:(null===_||void 0===_?void 0:_.cover)||G,isAuthor:H,source:"article"}),s.a.createElement(se,{detail:p[w],actionData:{votes:q,votesState:T,bookmarks:P,bookmarkState:M},actions:I,initPage:ee,imageUrl:"",isEditor:V,isAuthor:H,memberActions:R}),s.a.createElement("div",{className:"d-block d-xl-none mt-sm-4"},(null===_||void 0===_||null===(r=_.user)||void 0===r?void 0:r.url)&&s.a.createElement(je,{user:null===_||void 0===_?void 0:_.user})),s.a.createElement(me["a"],{id:w,event_object:B,user:_.user}),s.a.createElement(be,{list:O})),s.a.createElement(u["a"],{className:"col-12 col-xl-auto"},s.a.createElement("div",{className:"w-xl-300"},s.a.createElement("div",{className:"w-xl-300 d-none d-xl-block",id:"author"},(null===_||void 0===_||null===(b=_.user)||void 0===b?void 0:b.url)&&s.a.createElement(je,{user:null===_||void 0===_?void 0:_.user})),s.a.createElement("div",{className:"w-xl-300 mb-4",id:"first-ad"},s.a.createElement("div",{className:"card border-0 overflow-hidden d-none d-xl-flex justify-content-center align-items-center float-ads"},s.a.createElement(Z["a"],{name:"1"}))),s.a.createElement("div",{id:"gridAd",className:"d-none d-xl-block mb-4"},s.a.createElement(Oe["a"],null)),s.a.createElement("div",{id:"second-ad",className:"d-none d-xl-block"},s.a.createElement(Z["a"],{name:"31"}))))),s.a.createElement(ye["a"],null))):null};_e.getInitialProps=Object(xe["a"])({requireState:["articleDetail.artDetail"]},function(){var e=Object(r["a"])(c.a.mark((function e(t){var a,n,r,o,i;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.store,n=t.match,r=t.isServer,r){e.next=3;break}return e.abrupt("return");case 3:return o=n,i=o.params.aid,e.next=6,Promise.allSettled([a.dispatch({type:"articleDetail/getArtDetail",payload:{aid:i,isServerLoaded:!0}})]);case 6:return e.abrupt("return",Object(l["a"])({},a.getState()));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());t["default"]=Object(R["b"])((function(e){var t=e.articleDetail,a=e.action,n=e.global;return Object(l["a"])(Object(l["a"])({},t),{},{action:a,sessionUser:n.sessionUser})}))(_e)},paDM:function(e,t,a){"use strict";var n=a("q1tI"),c=a.n(n),r=a("6xyR"),l=(a("nWVH"),a("kwfb")),o=function(){return c.a.createElement(r["a"],{className:"border-0"},c.a.createElement(r["a"].Header,{className:"bg-white border-0"},c.a.createElement("h5",{className:"mb-0"},"\u5ba3\u4f20\u680f")),c.a.createElement(r["a"].Body,null,c.a.createElement("div",{className:"mb-3"},c.a.createElement(l["a"],{name:"7"})),c.a.createElement("div",{className:"mb-3"},c.a.createElement(l["a"],{name:"9"})),c.a.createElement("div",null,c.a.createElement(l["a"],{name:"10"}))))};t["a"]=c.a.memo(o)},rNPM:function(e,t,a){},"wFk/":function(e,t,a){"use strict";var n=a("VTBJ"),c=a("KQm4"),r=a("o0o1"),l=a.n(r),o=a("HaE+"),i=a("ODXe"),s=a("q1tI"),m=a.n(s),d=a("7U2o"),u=a("QojX"),v=a("HRRZ"),f=a("Dp36"),b=a("9kvl"),p=function(e){var t=e.id,a=e.setBookmarkedState,r=e.isShow,b=e.setShowStatus,p=e.sessionUser,E=e.source,g=void 0===E?"":E,h=Object(s["useState"])(!1),j=Object(i["a"])(h,2),O=j[0],y=j[1],k=Object(s["useState"])([]),N=Object(i["a"])(k,2),w=N[0],x=N[1],S=Object(s["useState"])([]),C=Object(i["a"])(S,2),_=C[0],I=C[1],D=Object(s["useState"])({value:"",isInvalid:!1,errorMsg:""}),R=Object(i["a"])(D,2),B=R[0],U=R[1],F=Object(s["useState"])(""),A=Object(i["a"])(F,2),q=A[0],T=A[1],L=Object(s["useState"])(1),P=Object(i["a"])(L,2),M=P[0],z=P[1];Object(s["useEffect"])((function(){0===w.length&&p&&r&&V()}),[r]);var V=function(){var e=Object(o["a"])(l.a.mark((function e(){var a;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(f["l"])({objectId:t});case 2:a=e.sent,a&&a.rows&&(x(a.rows),I(a.rows.filter((function(e){return e.is_bookmarked})).map((function(e){return e.id}))));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){b(!1),y(!1),U({value:"",isInvalid:!1,errorMsg:""}),T(""),z(1)},K=function(e){e.is_bookmarked?I(_.filter((function(t){return t!==e.id}))):I([].concat(Object(c["a"])(_),[e.id])),x(w.map((function(t){return e.id===t.id&&(t.is_bookmarked=e.is_bookmarked?0:1),t})))},Y=function(){var e=Object(o["a"])(l.a.mark((function e(){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!O){e.next=10;break}if(B.value){e.next=4;break}return U(Object(n["a"])(Object(n["a"])({},B),{},{isInvalid:!0,errorMsg:"\u540d\u79f0\u5fc5\u586b"})),e.abrupt("return");case 4:return e.next=6,Object(f["b"])({name:B.value,description:q,is_private:M})["catch"]((function(e){(null===e||void 0===e?void 0:e.isError)&&U(Object(n["a"])(Object(n["a"])({},B),{},{isInvalid:!0,errorMsg:e.name}))}));case 6:V(),y(!O),e.next=13;break;case 10:Object(f["k"])({type:g,id:t,is_bookmark:0===_.length?0:1,archive_ids:_}),a(!(0===_.length)),b(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return m.a.createElement(d["a"],{show:r,title:O?"\u521b\u5efa\u6536\u85cf\u5939":"\u6536\u85cf",onCancel:H,onOk:Y},O?m.a.createElement(u["a"],{className:"bookmarklist-form",id:"bookmarkArchives"},m.a.createElement(v["a"],null,m.a.createElement(u["a"].Label,{htmlFor:"bookmarkArchiveName",className:"required"},"\u540d\u79f0")," ",m.a.createElement(u["a"].Control,{type:"text",className:"form-control",value:B.value,onChange:function(e){return U(Object(n["a"])(Object(n["a"])({},B),{},{value:e.target.value}))},placeholder:"\u6700\u591a\u8f93\u516532\u4e2a\u5b57",maxLength:32,autoComplete:"off",required:!0,isInvalid:B.isInvalid}),m.a.createElement(u["a"].Control.Feedback,{type:"invalid"},B.errorMsg)),m.a.createElement(v["a"],null,m.a.createElement(u["a"].Label,{htmlFor:"bookmarkArchiveDescription"},"\u63cf\u8ff0")," ",m.a.createElement(u["a"].Control,{as:"textarea",value:q,onChange:function(e){return T(e.target.value)},placeholder:"\u6700\u591a\u8f93\u5165256\u4e2a\u5b57",maxLength:256})),m.a.createElement("div",{className:"form-check"},m.a.createElement("input",{className:"form-check-input",type:"radio",name:"isPrivate",value:"1",onChange:function(){return z(1)},checked:1===M,id:"bookmark-private"}),m.a.createElement("label",{className:"form-check-label",htmlFor:"bookmark-private"},"\u79c1\u5bc6\uff1a"),m.a.createElement("span",{className:"text-secondary"},"\u4ec5\u81ea\u5df1\u53ef\u89c1")),m.a.createElement("div",{className:"form-check"},m.a.createElement("input",{className:"form-check-input",type:"radio",name:"isPrivate",onChange:function(){return z(0)},checked:0===M,id:"bookmark-public"}),m.a.createElement("label",{className:"form-check-label",htmlFor:"bookmark-public"},"\u516c\u5f00\uff1a"),m.a.createElement("span",{className:"text-secondary"},"\u516c\u5f00\u540e\u4e0d\u53ef\u518d\u8bbe\u7f6e\u4e3a\u79c1\u5bc6"))):m.a.createElement("form",null,m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{className:"form-title"},"\u6dfb\u52a0\u5230\u6536\u85cf\u5939\uff1a"),null===w||void 0===w?void 0:w.map((function(e){return m.a.createElement("div",{className:"form-check mb-2",key:e.id},m.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"bookmarkItem[]",id:e.id,value:e.id,onChange:function(){return K(e)},checked:Boolean(e.is_bookmarked)}),m.a.createElement("label",{className:"form-check-label",htmlFor:e.id},e.name,Boolean(e.is_private)&&m.a.createElement("span",{className:"text-secondary"},"\uff08\u79c1\u5bc6\uff09")))})),m.a.createElement("button",{className:"btn btn-link new-bookmark p-0",onClick:function(){return y(!0)}},"+ \u521b\u5efa\u6536\u85cf\u5939"))))};t["a"]=Object(b["b"])((function(e){var t=e.global;return{sessionUser:t.sessionUser}}))(m.a.memo(p))},wroQ:function(e,t,a){},xQMv:function(e,t,a){e.exports=a.p+"static/bg-219.7a1acf4f.svg"}}]);